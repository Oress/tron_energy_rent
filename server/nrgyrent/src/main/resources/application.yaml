spring:
  messages:
    basename: messages
    encoding: UTF-8
    
  application:
    name: nrgyrent
    version: 0.1.0
  liquibase:
    # https://contribute.liquibase.com/extensions-integrations/directory/integration-docs/springboot/configuration/
    change-log: classpath:db/changelog/changelog-root.xml
    drop-first: false
    parameters:
      defaultTariffId: 1
      defaultTariffLabel: Стандартный
      txType1Amount: 5500000
      txType2Amount: 8600000
  datasource:
    url: ${POSTGRES_URL:jdbc:postgresql://localhost:5432/postgres}
    username: ${POSTGRES_USER:postgres}
    password: ${POSTGRES_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver
  jpa:
    #    hibernate:
    #      # ddl-auto: create-drop
    show-sql: false
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    properties:
      hibernate:
        use_sql_comments: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
        generate_statistics: false
app:
  sweeping:
    min-amount-sun: 10000
  rounding:
    scale: ${APP_ROUNDING_SCALE:2}
  pagination:
      users:
        page-size: ${APP_USERS_PAGE_SIZE:20}
      groups:
        page-size: ${APP_GRP_PAGE_SIZE:20}
      tariffs:
        page-size: ${APP_TARIFS_PAGE_SIZE:20}
  wallet:
    sweeping:
      ensure-count: ${APP_SWEEP_WALLETS_COUNT:1}
    encryption:
      keyBase64: ${APP_WALLET_ENCRYPTION_KEY_BASE64:de3AP3DtOeBDXXijf3PmLhrJ1kobB1XLP5poYc3qrkc=}
  cron:
    tron:
      transaction:
        enabled: true
  mapdb:
    db-path: ${APP_MAPDB_PATH:cache/nrgyrent.db}
  itrx:
    base-url: ${APP_ITRX_BASE_URL:"https://nile.itrx.io"} # For mainnet, use https://api.itrx.io
    callback-url: ${APP_ITRX_CALLBACK_URL}
    key: ${APP_ITRX_API_KEY}
    secret: ${APP_ITRX_API_SECRET}
  trongrid:
    qps: 13
    base-url: ${APP_TRONGRID_URL:https://nile.trongrid.io} # For mainnet, use https://api.trongrid.io
    api-key: ${APP_TRONGRID_API_KEY}
  telegram:
    bot:
      token: ${TELEGRAM_BOT_TOKEN}

logging:
#  structured:
#    format:
#      console: ecs
#      file: ecs
  file:
    name: ${LOGS_FOLDER:./logs}/app.log
  logback:
    rollingpolicy:
      file-name-pattern: ./logs/%d{yyyy-MM-dd}.%i.log
      max-file-size: 10MB
      max-history: 7

management:
  metrics:
    tags:
      application: ${spring.application.name}
      instance: ${HOSTNAME:unknown}
  endpoints:
    web:
      exposure:
        include: prometheus, health
      discovery:
        enabled: true
  endpoint:
    prometheus:
      enabled: true
    health:
      show-details: always
      show-components: always
      probes:
        enabled: true